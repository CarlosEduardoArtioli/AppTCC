(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{BtSu:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var u=e("8Y7J"),t=e("PVcy");let i=(()=>{class l{constructor(l){this.db=l,this.status=""}userEmail(){this.user=JSON.parse(localStorage.getItem("user")),this.user.email=this.user.email.replace(/[.#$]+/g,":")}getDevice(l){return this.userEmail(),this.deviceRef=this.db.object(`/users/${this.user.email}/devices/${l}`),this.deviceRef}getDeviceList(){return this.userEmail(),this.deviceListRef=this.db.list(`/users/${this.user.email}/devices`),this.deviceListRef}updateIcon(l,n){return this.userEmail(),this.db.database.ref(`/users/${this.user.email}/devices/${n}/icon`).set(l)}updateName(l,n){return this.userEmail(),this.db.database.ref(`/users/${this.user.email}/devices/${n}/name`).set(l)}updateRoom(l,n,e){return this.userEmail(),this.db.database.ref(`/users/${this.user.email}/devices/${e}/room`).set(l),this.db.database.ref(`/users/${this.user.email}/devices/${e}/iconRoom`).set(n)}deleteDevice(l){this.userEmail(),this.deviceRef=this.db.object(`/users/${this.user.email}/devices/${l}`),this.deviceRef.remove()}mudaStatus(l){this.userEmail(),this.db.database.ref(`/users/${this.user.email}/devices/${l}/status`).once("value").then(n=>{"ligado"===n.val()?this.db.database.ref(`/users/${this.user.email}/devices/${l}/status`).set("desligado"):this.db.database.ref(`/users/${this.user.email}/devices/${l}/status`).set("ligado")})}}return l.ngInjectableDef=u.Mb({factory:function(){return new l(u.Nb(t.a))},token:l,providedIn:"root"}),l})()},NDWJ:function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{}var i=e("pMnS"),s=e("MKJQ"),r=e("sZkV"),a=e("iInd"),c=e("SVse"),o=e("mrSG"),b=e("BtSu");class d{constructor(l,n){this.deviceService=l,this.alertCtrl=n,this.Devices=[]}ngOnInit(){this.deviceService.getDeviceList().snapshotChanges().subscribe(l=>{this.Devices=[],l.forEach(l=>{const n=l.payload.toJSON();n.$key=l.key,this.Devices.push(n)})})}deleteDevice(l){this.presentAlertConfirm(l)}presentAlertConfirm(l){return o.__awaiter(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"EXCLUIR!",message:"Deseja excluir o dispositivo?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Confirmar",handler:()=>{this.deviceService.deleteDevice(l)}}]});yield n.present()}))}}var h=u.ob({encapsulation:0,styles:[[".transparent[_ngcontent-%COMP%]{background-color:transparent}ion-icon[_ngcontent-%COMP%]{color:#fff}ion-item[_ngcontent-%COMP%]{--background:rgb(43, 53, 102, 0.7)}"]],data:{}});function m(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,25,"ion-item",[["lines","full"]],null,null,null,s.L,s.m)),u.pb(1,49152,null,0,r.H,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.qb(2,0,null,0,13,"ion-label",[],null,null,null,s.M,s.n)),u.pb(3,49152,null,0,r.N,[u.h,u.k,u.x],null,null),(l()(),u.qb(4,0,null,0,3,"h3",[],null,null,null,null,null)),(l()(),u.qb(5,0,null,null,1,"ion-icon",[],null,null,null,s.J,s.k)),u.pb(6,49152,null,0,r.C,[u.h,u.k,u.x],{src:[0,"src"]},null),(l()(),u.Hb(7,null,["\xa0\xa0"," "])),(l()(),u.qb(8,0,null,0,3,"h3",[],null,null,null,null,null)),(l()(),u.qb(9,0,null,null,1,"ion-icon",[["name","wifi-outline"]],null,null,null,s.J,s.k)),u.pb(10,49152,null,0,r.C,[u.h,u.k,u.x],{name:[0,"name"]},null),(l()(),u.Hb(11,null,["\xa0\xa0"," "])),(l()(),u.qb(12,0,null,0,3,"h3",[],null,null,null,null,null)),(l()(),u.qb(13,0,null,null,1,"ion-icon",[],null,null,null,s.J,s.k)),u.pb(14,49152,null,0,r.C,[u.h,u.k,u.x],{src:[0,"src"]},null),(l()(),u.Hb(15,null,["\xa0\xa0"," "])),(l()(),u.qb(16,0,null,0,9,"div",[],null,null,null,null,null)),(l()(),u.qb(17,0,null,null,5,"button",[["class","transparent"],["clear",""],["ion-button",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==u.Cb(l,18).onClick()&&t),"click"===n&&(t=!1!==u.Cb(l,20).onClick(e)&&t),t}),null,null)),u.pb(18,16384,null,0,a.n,[a.m,a.a,[8,null],u.B,u.k],{routerLink:[0,"routerLink"]},null),u.Db(19,2),u.pb(20,737280,null,0,r.Ib,[c.g,r.Fb,u.k,a.m,[2,a.n]],null,null),(l()(),u.qb(21,0,null,null,1,"ion-icon",[["name","create"],["style","zoom:2.0"]],null,null,null,s.J,s.k)),u.pb(22,49152,null,0,r.C,[u.h,u.k,u.x],{name:[0,"name"]},null),(l()(),u.qb(23,0,null,null,2,"button",[["class","transparent"],["clear",""],["ion-button",""]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.deleteDevice(l.context.$implicit.$key)&&u),u}),null,null)),(l()(),u.qb(24,0,null,null,1,"ion-icon",[["name","trash"],["style","zoom:2.0"]],null,null,null,s.J,s.k)),u.pb(25,49152,null,0,r.C,[u.h,u.k,u.x],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"full"),l(n,6,0,u.ub(1,"/assets/svg/",n.context.$implicit.icon,".svg")),l(n,10,0,"wifi-outline"),l(n,14,0,u.ub(1,"/assets/svg/",n.context.$implicit.iconRoom,".svg"));var e=l(n,19,0,"/edit-device-page/",n.context.$implicit.$key);l(n,18,0,e),l(n,20,0),l(n,22,0,"create"),l(n,25,0,"trash")}),(function(l,n){l(n,7,0,n.context.$implicit.name),l(n,11,0,n.context.$implicit.ap),l(n,15,0,n.context.$implicit.room)}))}function p(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,10,"ion-header",[],null,null,null,s.I,s.j)),u.pb(1,49152,null,0,r.B,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,8,"ion-toolbar",[],null,null,null,s.X,s.y)),u.pb(3,49152,null,0,r.zb,[u.h,u.k,u.x],null,null),(l()(),u.qb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,s.C,s.d)),u.pb(5,49152,null,0,r.l,[u.h,u.k,u.x],null,null),(l()(),u.qb(6,0,null,0,1,"ion-menu-button",[],null,null,null,s.O,s.q)),u.pb(7,49152,null,0,r.R,[u.h,u.k,u.x],null,null),(l()(),u.qb(8,0,null,0,2,"ion-title",[],null,null,null,s.W,s.x)),u.pb(9,49152,null,0,r.xb,[u.h,u.k,u.x],null,null),(l()(),u.Hb(-1,0,[" Editar Dispositivo "])),(l()(),u.qb(11,0,null,null,3,"ion-content",[],null,null,null,s.E,s.f)),u.pb(12,49152,null,0,r.u,[u.h,u.k,u.x],null,null),(l()(),u.fb(16777216,null,0,1,null,m)),u.pb(14,278528,null,0,c.h,[u.N,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.Devices)}),null)}function v(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,1,"app-edit-device-list",[],null,null,null,p,h)),u.pb(1,114688,null,0,d,[b.a,r.b],null,null)],(function(l,n){l(n,1,0)}),null)}var f=u.mb("app-edit-device-list",d,v,{},{},[]),k=e("s7LF");class g{}e.d(n,"EditDeviceListPageModuleNgFactory",(function(){return $}));var $=u.nb(t,[],(function(l){return u.zb([u.Ab(512,u.j,u.Y,[[8,[i.a,f]],[3,u.j],u.v]),u.Ab(4608,c.k,c.j,[u.s,[2,c.r]]),u.Ab(4608,k.q,k.q,[]),u.Ab(4608,r.c,r.c,[u.x,u.g]),u.Ab(4608,r.Eb,r.Eb,[r.c,u.j,u.p]),u.Ab(4608,r.Hb,r.Hb,[r.c,u.j,u.p]),u.Ab(1073742336,c.b,c.b,[]),u.Ab(1073742336,k.p,k.p,[]),u.Ab(1073742336,k.f,k.f,[]),u.Ab(1073742336,r.Bb,r.Bb,[]),u.Ab(1073742336,a.q,a.q,[[2,a.v],[2,a.m]]),u.Ab(1073742336,g,g,[]),u.Ab(1073742336,t,t,[]),u.Ab(1024,a.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);