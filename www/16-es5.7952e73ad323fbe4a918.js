(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{BtSu:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var t=e("8Y7J"),u=e("PVcy");let i=(()=>{class l{constructor(l){this.db=l,this.status=""}userEmail(){this.user=JSON.parse(localStorage.getItem("user")),this.user.email=this.user.email.replace(/[.#$]+/g,":")}getDevice(l){return this.userEmail(),this.deviceRef=this.db.object("/users/".concat(this.user.email,"/devices/").concat(l)),this.deviceRef}getDeviceList(){return this.userEmail(),this.deviceListRef=this.db.list("/users/".concat(this.user.email,"/devices")),this.deviceListRef}updateIcon(l,n){return this.userEmail(),this.db.database.ref("/users/".concat(this.user.email,"/devices/").concat(n,"/icon")).set(l)}updateName(l,n){return this.userEmail(),this.db.database.ref("/users/".concat(this.user.email,"/devices/").concat(n,"/name")).set(l)}updateRoom(l,n,e){return this.userEmail(),this.db.database.ref("/users/".concat(this.user.email,"/devices/").concat(e,"/room")).set(l),this.db.database.ref("/users/".concat(this.user.email,"/devices/").concat(e,"/iconRoom")).set(n)}deleteDevice(l){this.userEmail(),this.deviceRef=this.db.object("/users/".concat(this.user.email,"/devices/").concat(l)),this.deviceRef.remove()}mudaStatus(l){this.userEmail(),this.db.database.ref("/users/".concat(this.user.email,"/devices/").concat(l,"/status")).once("value").then(n=>{"ligado"===n.val()?this.db.database.ref("/users/".concat(this.user.email,"/devices/").concat(l,"/status")).set("desligado"):this.db.database.ref("/users/".concat(this.user.email,"/devices/").concat(l,"/status")).set("ligado")})}}return l.ngInjectableDef=t.Mb({factory:function(){return new l(t.Nb(u.a))},token:l,providedIn:"root"}),l})()},NDWJ:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{}var i=e("pMnS"),s=e("MKJQ"),c=e("sZkV"),a=e("iInd"),o=e("SVse"),r=e("mrSG"),b=e("BtSu");class d{constructor(l,n){this.deviceService=l,this.alertCtrl=n,this.Devices=[]}ngOnInit(){this.deviceService.getDeviceList().snapshotChanges().subscribe(l=>{this.Devices=[],l.forEach(l=>{const n=l.payload.toJSON();n.$key=l.key,this.Devices.push(n)})})}deleteDevice(l){this.presentAlertConfirm(l)}presentAlertConfirm(l){return r.__awaiter(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"EXCLUIR!",message:"Deseja excluir o dispositivo?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Confirmar",handler:()=>{this.deviceService.deleteDevice(l)}}]});yield n.present()}))}}var h=t.ob({encapsulation:0,styles:[[".transparent[_ngcontent-%COMP%]{background-color:transparent}ion-icon[_ngcontent-%COMP%]{color:#fff}ion-item[_ngcontent-%COMP%]{--background:rgb(43, 53, 102, 0.7)}"]],data:{}});function m(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,25,"ion-item",[["lines","full"]],null,null,null,s.L,s.m)),t.pb(1,49152,null,0,c.H,[t.h,t.k,t.x],{lines:[0,"lines"]},null),(l()(),t.qb(2,0,null,0,13,"ion-label",[],null,null,null,s.M,s.n)),t.pb(3,49152,null,0,c.N,[t.h,t.k,t.x],null,null),(l()(),t.qb(4,0,null,0,3,"h3",[],null,null,null,null,null)),(l()(),t.qb(5,0,null,null,1,"ion-icon",[],null,null,null,s.J,s.k)),t.pb(6,49152,null,0,c.C,[t.h,t.k,t.x],{src:[0,"src"]},null),(l()(),t.Hb(7,null,["\xa0\xa0"," "])),(l()(),t.qb(8,0,null,0,3,"h3",[],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,1,"ion-icon",[["name","wifi-outline"]],null,null,null,s.J,s.k)),t.pb(10,49152,null,0,c.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.Hb(11,null,["\xa0\xa0"," "])),(l()(),t.qb(12,0,null,0,3,"h3",[],null,null,null,null,null)),(l()(),t.qb(13,0,null,null,1,"ion-icon",[],null,null,null,s.J,s.k)),t.pb(14,49152,null,0,c.C,[t.h,t.k,t.x],{src:[0,"src"]},null),(l()(),t.Hb(15,null,["\xa0\xa0"," "])),(l()(),t.qb(16,0,null,0,9,"div",[],null,null,null,null,null)),(l()(),t.qb(17,0,null,null,5,"button",[["class","transparent"],["clear",""],["ion-button",""]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Cb(l,18).onClick()&&u),"click"===n&&(u=!1!==t.Cb(l,20).onClick(e)&&u),u}),null,null)),t.pb(18,16384,null,0,a.n,[a.m,a.a,[8,null],t.B,t.k],{routerLink:[0,"routerLink"]},null),t.Db(19,2),t.pb(20,737280,null,0,c.Ib,[o.g,c.Fb,t.k,a.m,[2,a.n]],null,null),(l()(),t.qb(21,0,null,null,1,"ion-icon",[["name","create"],["style","zoom:2.0"]],null,null,null,s.J,s.k)),t.pb(22,49152,null,0,c.C,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.qb(23,0,null,null,2,"button",[["class","transparent"],["clear",""],["ion-button",""]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.deleteDevice(l.context.$implicit.$key)&&t),t}),null,null)),(l()(),t.qb(24,0,null,null,1,"ion-icon",[["name","trash"],["style","zoom:2.0"]],null,null,null,s.J,s.k)),t.pb(25,49152,null,0,c.C,[t.h,t.k,t.x],{name:[0,"name"]},null)],(function(l,n){l(n,1,0,"full"),l(n,6,0,t.ub(1,"/assets/svg/",n.context.$implicit.icon,".svg")),l(n,10,0,"wifi-outline"),l(n,14,0,t.ub(1,"/assets/svg/",n.context.$implicit.iconRoom,".svg"));var e=l(n,19,0,"/edit-device-page/",n.context.$implicit.$key);l(n,18,0,e),l(n,20,0),l(n,22,0,"create"),l(n,25,0,"trash")}),(function(l,n){l(n,7,0,n.context.$implicit.name),l(n,11,0,n.context.$implicit.ap),l(n,15,0,n.context.$implicit.room)}))}function p(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,10,"ion-header",[],null,null,null,s.I,s.j)),t.pb(1,49152,null,0,c.B,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,8,"ion-toolbar",[],null,null,null,s.X,s.y)),t.pb(3,49152,null,0,c.zb,[t.h,t.k,t.x],null,null),(l()(),t.qb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,s.C,s.d)),t.pb(5,49152,null,0,c.l,[t.h,t.k,t.x],null,null),(l()(),t.qb(6,0,null,0,1,"ion-menu-button",[],null,null,null,s.O,s.q)),t.pb(7,49152,null,0,c.R,[t.h,t.k,t.x],null,null),(l()(),t.qb(8,0,null,0,2,"ion-title",[],null,null,null,s.W,s.x)),t.pb(9,49152,null,0,c.xb,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,[" Editar Dispositivo "])),(l()(),t.qb(11,0,null,null,3,"ion-content",[],null,null,null,s.E,s.f)),t.pb(12,49152,null,0,c.u,[t.h,t.k,t.x],null,null),(l()(),t.fb(16777216,null,0,1,null,m)),t.pb(14,278528,null,0,o.h,[t.N,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,14,0,n.component.Devices)}),null)}var v=t.mb("app-edit-device-list",d,(function(l){return t.Ib(0,[(l()(),t.qb(0,0,null,null,1,"app-edit-device-list",[],null,null,null,p,h)),t.pb(1,114688,null,0,d,[b.a,c.b],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),f=e("s7LF");class k{}e.d(n,"EditDeviceListPageModuleNgFactory",(function(){return g}));var g=t.nb(u,[],(function(l){return t.zb([t.Ab(512,t.j,t.Y,[[8,[i.a,v]],[3,t.j],t.v]),t.Ab(4608,o.k,o.j,[t.s,[2,o.r]]),t.Ab(4608,f.q,f.q,[]),t.Ab(4608,c.c,c.c,[t.x,t.g]),t.Ab(4608,c.Eb,c.Eb,[c.c,t.j,t.p]),t.Ab(4608,c.Hb,c.Hb,[c.c,t.j,t.p]),t.Ab(1073742336,o.b,o.b,[]),t.Ab(1073742336,f.p,f.p,[]),t.Ab(1073742336,f.f,f.f,[]),t.Ab(1073742336,c.Bb,c.Bb,[]),t.Ab(1073742336,a.q,a.q,[[2,a.v],[2,a.m]]),t.Ab(1073742336,k,k,[]),t.Ab(1073742336,u,u,[]),t.Ab(1024,a.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);