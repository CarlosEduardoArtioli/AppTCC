(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"1C6c":function(l,n,e){"use strict";e.r(n);var u=e("8Y7J");class t{}var i=e("pMnS"),a=e("SVse"),o=e("MKJQ"),r=e("sZkV"),s=e("s7LF"),b=e("mrSG"),c=e("8hpD");class d{constructor(l,n,e,u,t,i){this.timerService=l,this.actRoute=n,this.router=e,this.fb=u,this.actionSheetController=t,this.toastController=i,this.Devices=[],this.dateTime="",this.action="",this.mensagens_validacao={action:[{tipo:"required",mensagem:"O campo a\xe7\xe3o \xe9 obrigat\xf3rio!"}],dateTime:[{tipo:"required",mensagem:"O campo hor\xe1rio \xe9 obrigat\xf3rio!"}],newWeek:[{tipo:"required",mensagem:"O campo hor\xe1rio \xe9 obrigat\xf3rio!"}]},this.mac=this.actRoute.snapshot.paramMap.get("mac"),this.timer=this.actRoute.snapshot.paramMap.get("timer"),this.timerService.getTimer(this.timer,this.mac).valueChanges().subscribe(l=>{this.action=l.action,this.dateTime=l.timer,this.week1=l.week1,this.week2=l.week2,this.week3=l.week3,this.week4=l.week4,this.week5=l.week5,this.week6=l.week6,this.week7=l.week7,console.log(l)}),this.updateTimerForm=u.group({action:["",s.o.compose([s.o.required])],dateTime:["",s.o.compose([s.o.required])],newWeek:["",s.o.compose([s.o.required])]})}ngOnInit(){}atualizar(){const l=this.newWeek.indexOf("seg"),n=this.newWeek.indexOf("ter"),e=this.newWeek.indexOf("qua"),u=this.newWeek.indexOf("qui"),t=this.newWeek.indexOf("sex"),i=this.newWeek.indexOf("sab"),a=this.newWeek.indexOf("dom");this.week1=-1!==l?"seg":"",this.week2=-1!==n?"ter":"",this.week3=-1!==e?"qua":"",this.week4=-1!==u?"qui":"",this.week5=-1!==t?"sex":"",this.week6=-1!==i?"sab":"",this.week7=-1!==a?"dom":"",this.updateTimerForm.valid?this.updateForm():this.alert("Formul\xe1rio Inv\xe1lido")}updateForm(){this.timerService.updateTimer(this.action,this.dateTime,this.week1,this.week2,this.week3,this.week4,this.week5,this.week6,this.week7,this.timer,this.mac).then(()=>{this.router.navigate(["/menu/edit-timer-list"])}).catch(l=>console.log(l))}alert(l){return b.__awaiter(this,void 0,void 0,(function*(){const n=yield this.toastController.create({header:l,duration:2e3});yield n.present()}))}}var m=e("iInd"),p=u.ob({encapsulation:0,styles:[["ion-item[_ngcontent-%COMP%]{--background:rgb(43, 53, 102, 0.7)}ion-icon[_ngcontent-%COMP%]{color:#fff}.msg-erro[_ngcontent-%COMP%]{color:red;font-size:11px}"]],data:{}});function h(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,1,"span",[["class","msg-erro"]],null,null,null,null,null)),(l()(),u.Hb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.mensagem)}))}function g(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.fb(16777216,null,null,1,null,h)),u.pb(2,16384,null,0,a.i,[u.N,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.updateTimerForm.get("action").hasError(n.context.$implicit.tipo)&&(e.updateTimerForm.get("action").dirty||e.updateTimerForm.get("action").touched))}),null)}function k(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,1,"span",[["class","msg-erro"]],null,null,null,null,null)),(l()(),u.Hb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.mensagem)}))}function f(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.fb(16777216,null,null,1,null,k)),u.pb(2,16384,null,0,a.i,[u.N,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.updateTimerForm.get("dateTime").hasError(n.context.$implicit.tipo)&&(e.updateTimerForm.get("dateTime").dirty||e.updateTimerForm.get("dateTime").touched))}),null)}function C(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,1,"span",[["class","msg-erro"]],null,null,null,null,null)),(l()(),u.Hb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.mensagem)}))}function w(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),u.fb(16777216,null,null,1,null,C)),u.pb(2,16384,null,0,a.i,[u.N,u.J],{ngIf:[0,"ngIf"]},null),(l()(),u.fb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.updateTimerForm.get("newWeek").hasError(n.context.$implicit.tipo)&&(e.updateTimerForm.get("newWeek").dirty||e.updateTimerForm.get("newWeek").touched))}),null)}function v(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,6,"ion-header",[],null,null,null,o.I,o.j)),u.pb(1,49152,null,0,r.B,[u.h,u.k,u.x],null,null),(l()(),u.qb(2,0,null,0,4,"ion-toolbar",[],null,null,null,o.X,o.y)),u.pb(3,49152,null,0,r.zb,[u.h,u.k,u.x],null,null),(l()(),u.qb(4,0,null,0,2,"ion-title",[],null,null,null,o.W,o.x)),u.pb(5,49152,null,0,r.xb,[u.h,u.k,u.x],null,null),(l()(),u.Hb(-1,0,[" Editar "])),(l()(),u.qb(7,0,null,null,89,"ion-content",[],null,null,null,o.E,o.f)),u.pb(8,49152,null,0,r.u,[u.h,u.k,u.x],null,null),(l()(),u.qb(9,0,null,0,87,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var t=!0;return"submit"===n&&(t=!1!==u.Cb(l,11).onSubmit(e)&&t),"reset"===n&&(t=!1!==u.Cb(l,11).onReset()&&t),t}),null,null)),u.pb(10,16384,null,0,s.s,[],null,null),u.pb(11,540672,null,0,s.e,[[8,null],[8,null]],{form:[0,"form"]},null),u.Eb(2048,null,s.a,null,[s.e]),u.pb(13,16384,null,0,s.k,[[4,s.a]],null,null),(l()(),u.qb(14,0,null,null,21,"ion-item",[["lines","full"]],null,null,null,o.L,o.m)),u.pb(15,49152,null,0,r.H,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.qb(16,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,o.M,o.n)),u.pb(17,49152,null,0,r.N,[u.h,u.k,u.x],{position:[0,"position"]},null),(l()(),u.Hb(-1,0,["A\xe7\xe3o"])),(l()(),u.qb(19,0,null,0,14,"ion-select",[["formControlName","action"],["id","week"],["interface","alert"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0,i=l.component;return"ionBlur"===n&&(t=!1!==u.Cb(l,22)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Cb(l,22)._handleChangeEvent(e.target)&&t),"ngModelChange"===n&&(t=!1!==(i.action=e)&&t),t}),o.V,o.v)),u.pb(20,16384,null,0,s.n,[],{required:[0,"required"]},null),u.Eb(1024,null,s.g,(function(l){return[l]}),[s.n]),u.pb(22,16384,null,0,r.Jb,[u.k],null,null),u.Eb(1024,null,s.h,(function(l){return[l]}),[r.Jb]),u.pb(24,671744,null,0,s.d,[[3,s.a],[6,s.g],[8,null],[6,s.h],[2,s.r]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Eb(2048,null,s.i,null,[s.d]),u.pb(26,16384,null,0,s.j,[[4,s.i]],null,null),u.pb(27,49152,null,0,r.kb,[u.h,u.k,u.x],{interface:[0,"interface"],value:[1,"value"]},null),(l()(),u.qb(28,0,null,0,2,"ion-select-option",[["value","ligar"]],null,null,null,o.U,o.w)),u.pb(29,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Ligar"])),(l()(),u.qb(31,0,null,0,2,"ion-select-option",[["value","desligar"]],null,null,null,o.U,o.w)),u.pb(32,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Desligar"])),(l()(),u.fb(16777216,null,0,1,null,g)),u.pb(35,278528,null,0,a.h,[u.N,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(36,0,null,null,15,"ion-item",[["lines","full"]],null,null,null,o.L,o.m)),u.pb(37,49152,null,0,r.H,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.qb(38,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,o.M,o.n)),u.pb(39,49152,null,0,r.N,[u.h,u.k,u.x],{position:[0,"position"]},null),(l()(),u.Hb(-1,0,["Hor\xe1rio do Timer"])),(l()(),u.qb(41,0,null,0,8,"ion-input",[["formControlName","dateTime"],["required",""],["step","1"],["type","time"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0,i=l.component;return"ionBlur"===n&&(t=!1!==u.Cb(l,44)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Cb(l,44)._handleInputEvent(e.target)&&t),"ngModelChange"===n&&(t=!1!==(i.dateTime=e)&&t),t}),o.K,o.l)),u.pb(42,16384,null,0,s.n,[],{required:[0,"required"]},null),u.Eb(1024,null,s.g,(function(l){return[l]}),[s.n]),u.pb(44,16384,null,0,r.Kb,[u.k],null,null),u.Eb(1024,null,s.h,(function(l){return[l]}),[r.Kb]),u.pb(46,671744,null,0,s.d,[[3,s.a],[6,s.g],[8,null],[6,s.h],[2,s.r]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Eb(2048,null,s.i,null,[s.d]),u.pb(48,16384,null,0,s.j,[[4,s.i]],null,null),u.pb(49,49152,null,0,r.G,[u.h,u.k,u.x],{required:[0,"required"],step:[1,"step"],type:[2,"type"],value:[3,"value"]},null),(l()(),u.fb(16777216,null,0,1,null,f)),u.pb(51,278528,null,0,a.h,[u.N,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(52,0,null,null,37,"ion-item",[["lines","full"]],null,null,null,o.L,o.m)),u.pb(53,49152,null,0,r.H,[u.h,u.k,u.x],{lines:[0,"lines"]},null),(l()(),u.qb(54,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,o.M,o.n)),u.pb(55,49152,null,0,r.N,[u.h,u.k,u.x],{position:[0,"position"]},null),(l()(),u.Hb(-1,0,["Dias da Semana"])),(l()(),u.qb(57,0,null,0,30,"ion-select",[["cancelText","Cancelar"],["formControlName","newWeek"],["multiple","true"],["okText","Ok"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(l,n,e){var t=!0,i=l.component;return"ionBlur"===n&&(t=!1!==u.Cb(l,60)._handleBlurEvent(e.target)&&t),"ionChange"===n&&(t=!1!==u.Cb(l,60)._handleChangeEvent(e.target)&&t),"ngModelChange"===n&&(t=!1!==(i.newWeek=e)&&t),t}),o.V,o.v)),u.pb(58,16384,null,0,s.n,[],{required:[0,"required"]},null),u.Eb(1024,null,s.g,(function(l){return[l]}),[s.n]),u.pb(60,16384,null,0,r.Jb,[u.k],null,null),u.Eb(1024,null,s.h,(function(l){return[l]}),[r.Jb]),u.pb(62,671744,null,0,s.d,[[3,s.a],[6,s.g],[8,null],[6,s.h],[2,s.r]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Eb(2048,null,s.i,null,[s.d]),u.pb(64,16384,null,0,s.j,[[4,s.i]],null,null),u.pb(65,49152,null,0,r.kb,[u.h,u.k,u.x],{cancelText:[0,"cancelText"],multiple:[1,"multiple"],okText:[2,"okText"],value:[3,"value"]},null),u.Db(66,7),(l()(),u.qb(67,0,null,0,2,"ion-select-option",[["value","seg"]],null,null,null,o.U,o.w)),u.pb(68,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Seg"])),(l()(),u.qb(70,0,null,0,2,"ion-select-option",[["value","ter"]],null,null,null,o.U,o.w)),u.pb(71,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Ter"])),(l()(),u.qb(73,0,null,0,2,"ion-select-option",[["value","qua"]],null,null,null,o.U,o.w)),u.pb(74,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Qua"])),(l()(),u.qb(76,0,null,0,2,"ion-select-option",[["value","qui"]],null,null,null,o.U,o.w)),u.pb(77,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Qui"])),(l()(),u.qb(79,0,null,0,2,"ion-select-option",[["value","sex"]],null,null,null,o.U,o.w)),u.pb(80,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Sex"])),(l()(),u.qb(82,0,null,0,2,"ion-select-option",[["value","sab"]],null,null,null,o.U,o.w)),u.pb(83,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Sab"])),(l()(),u.qb(85,0,null,0,2,"ion-select-option",[["value","dom"]],null,null,null,o.U,o.w)),u.pb(86,49152,null,0,r.lb,[u.h,u.k,u.x],{value:[0,"value"]},null),(l()(),u.Hb(-1,0,["Dom"])),(l()(),u.fb(16777216,null,0,1,null,w)),u.pb(89,278528,null,0,a.h,[u.N,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(l()(),u.qb(90,0,null,null,6,"ion-row",[],null,null,null,o.R,o.s)),u.pb(91,49152,null,0,r.gb,[u.h,u.k,u.x],null,null),(l()(),u.qb(92,0,null,0,4,"ion-col",[],null,null,null,o.D,o.e)),u.pb(93,49152,null,0,r.t,[u.h,u.k,u.x],null,null),(l()(),u.qb(94,0,null,0,2,"ion-button",[["color","primary"],["expand","block"],["shape","full"],["type","submit"]],null,[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==l.component.atualizar()&&u),u}),o.B,o.c)),u.pb(95,49152,null,0,r.k,[u.h,u.k,u.x],{color:[0,"color"],disabled:[1,"disabled"],expand:[2,"expand"],shape:[3,"shape"],type:[4,"type"]},null),(l()(),u.Hb(-1,0,["Atualizar"]))],(function(l,n){var e=n.component;l(n,11,0,e.updateTimerForm),l(n,15,0,"full"),l(n,17,0,"stacked"),l(n,20,0,""),l(n,24,0,"action",e.action),l(n,27,0,"alert",u.ub(1,"",e.action,"")),l(n,29,0,"ligar"),l(n,32,0,"desligar"),l(n,35,0,e.mensagens_validacao.action),l(n,37,0,"full"),l(n,39,0,"stacked"),l(n,42,0,""),l(n,46,0,"dateTime",e.dateTime),l(n,49,0,"","1","time",u.ub(1,"",e.dateTime,"")),l(n,51,0,e.mensagens_validacao.dateTime),l(n,53,0,"full"),l(n,55,0,"stacked"),l(n,58,0,""),l(n,62,0,"newWeek",e.newWeek);var t=l(n,66,0,e.week1,e.week2,e.week3,e.week4,e.week5,e.week6,e.week7);l(n,65,0,"Cancelar","true","Ok",t),l(n,68,0,"seg"),l(n,71,0,"ter"),l(n,74,0,"qua"),l(n,77,0,"qui"),l(n,80,0,"sex"),l(n,83,0,"sab"),l(n,86,0,"dom"),l(n,89,0,e.mensagens_validacao.newWeek),l(n,95,0,"primary",!e.updateTimerForm.valid,"block","full","submit")}),(function(l,n){l(n,9,0,u.Cb(n,13).ngClassUntouched,u.Cb(n,13).ngClassTouched,u.Cb(n,13).ngClassPristine,u.Cb(n,13).ngClassDirty,u.Cb(n,13).ngClassValid,u.Cb(n,13).ngClassInvalid,u.Cb(n,13).ngClassPending),l(n,19,0,u.Cb(n,20).required?"":null,u.Cb(n,26).ngClassUntouched,u.Cb(n,26).ngClassTouched,u.Cb(n,26).ngClassPristine,u.Cb(n,26).ngClassDirty,u.Cb(n,26).ngClassValid,u.Cb(n,26).ngClassInvalid,u.Cb(n,26).ngClassPending),l(n,41,0,u.Cb(n,42).required?"":null,u.Cb(n,48).ngClassUntouched,u.Cb(n,48).ngClassTouched,u.Cb(n,48).ngClassPristine,u.Cb(n,48).ngClassDirty,u.Cb(n,48).ngClassValid,u.Cb(n,48).ngClassInvalid,u.Cb(n,48).ngClassPending),l(n,57,0,u.Cb(n,58).required?"":null,u.Cb(n,64).ngClassUntouched,u.Cb(n,64).ngClassTouched,u.Cb(n,64).ngClassPristine,u.Cb(n,64).ngClassDirty,u.Cb(n,64).ngClassValid,u.Cb(n,64).ngClassInvalid,u.Cb(n,64).ngClassPending)}))}var q=u.mb("app-edit-timer-page",d,(function(l){return u.Ib(0,[(l()(),u.qb(0,0,null,null,1,"app-edit-timer-page",[],null,null,null,v,p)),u.pb(1,114688,null,0,d,[c.a,m.a,m.m,s.b,r.a,r.Lb],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]);class x{}e.d(n,"EditTimerPagePageModuleNgFactory",(function(){return T}));var T=u.nb(t,[],(function(l){return u.zb([u.Ab(512,u.j,u.Y,[[8,[i.a,q]],[3,u.j],u.v]),u.Ab(4608,a.k,a.j,[u.s,[2,a.r]]),u.Ab(4608,s.q,s.q,[]),u.Ab(4608,s.b,s.b,[]),u.Ab(4608,r.c,r.c,[u.x,u.g]),u.Ab(4608,r.Eb,r.Eb,[r.c,u.j,u.p]),u.Ab(4608,r.Hb,r.Hb,[r.c,u.j,u.p]),u.Ab(1073742336,a.b,a.b,[]),u.Ab(1073742336,s.p,s.p,[]),u.Ab(1073742336,s.f,s.f,[]),u.Ab(1073742336,s.m,s.m,[]),u.Ab(1073742336,r.Bb,r.Bb,[]),u.Ab(1073742336,m.q,m.q,[[2,m.v],[2,m.m]]),u.Ab(1073742336,x,x,[]),u.Ab(1073742336,t,t,[]),u.Ab(1024,m.k,(function(){return[[{path:"",component:d}]]}),[])])}))},"8hpD":function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var u=e("8Y7J"),t=e("PVcy");let i=(()=>{class l{constructor(l){this.db=l,this.user=JSON.parse(localStorage.getItem("user")),this.user.email=this.user.email.replace(/[.#$]+/g,":")}getTimer(l,n){return this.timerRef=this.db.object("/users/".concat(this.user.email,"/devices/").concat(n,"/timer/").concat(l)),this.timerRef}updateTimer(l,n,e,u,t,i,a,o,r,s,b){return this.timerRef=this.db.object("/users/".concat(this.user.email,"/devices/").concat(b,"/timer/").concat(s)),this.timerRef.update({action:l,timer:n,show:!0,week1:e,week2:u,week3:t,week4:i,week5:a,week6:o,week7:r})}deleteTimer(l,n){return this.timerRef=this.db.object("/users/".concat(this.user.email,"/devices/").concat(l,"/timer/").concat(n)),this.timerRef.set({action:"",show:!1,timer:"",week1:"",week2:"",week3:"",week4:"",week5:"",week6:"",week7:""})}addTimer(l,n){return this.timerRef=this.db.object("/users/".concat(this.user.email,"/devices/").concat(l,"/timer/").concat(n)),this.timerRef.set({action:"",show:!0,timer:"",week1:"",week2:"",week3:"",week4:"",week5:"",week6:"",week7:""})}}return l.ngInjectableDef=u.Mb({factory:function(){return new l(u.Nb(t.a))},token:l,providedIn:"root"}),l})()}}]);