(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{xuyv:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class i{}var u=t("pMnS"),o=t("MKJQ"),r=t("sZkV"),a=t("iInd"),c=t("SVse"),s=t("mrSG"),b=t("2Vo4"),p=t("BtSu");class h{constructor(n,l){this.aptService=n,this.alertCtrl=l,this.Devices=[],this.time=new b.a("00:00"),this.startDuration=.09,this.state="stop"}ngOnInit(){this.fetchDevices(),this.aptService.getDeviceList().snapshotChanges().subscribe(n=>{this.Devices=[],n.forEach(n=>{let l=n.payload.toJSON();l.$key=n.key,this.Devices.push(l)})})}startTimer(n){this.state="start",clearInterval(this.interval),this.timer=60*n,this.updateTimeValue(),this.interval=setInterval(()=>{this.updateTimeValue()},1e3)}stopTimer(){clearInterval(this.interval),this.time.next("00:00"),this.state="stop"}updateTimeValue(){let n=this.timer/60,l=this.timer%60;n=String("0"+Math.floor(n)).slice(-2),l=String("0"+Math.floor(l)).slice(-2),this.time.next(n+":"+l),--this.timer,this.timer<-1&&this.startTimer(this.startDuration)}addTimer(){return s.__awaiter(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"Tempo para Desligamento/Ligamento",inputs:[{name:"time",id:"time",placeholder:"Digite o tempo desejado"}],buttons:[{text:"Cancelar",role:"cancel",handler:n=>{console.log("Cancel clicked")}},{text:"Salvar",handler:n=>{""!=document.getElementById("time").value&&(this.timerTemp=document.getElementById("time").value,this.startTimer(this.timerTemp),console.log(this.timerTemp))}}]});yield n.present()}))}fetchDevices(){this.aptService.getDeviceList().valueChanges().subscribe(n=>{console.log(n)})}mudaStatus(n){this.aptService.mudaStatus(n)}}var m=e.ob({encapsulation:0,styles:[["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:translucent}ion-icon[_ngcontent-%COMP%]{font-size:44px}.sqare_button[_ngcontent-%COMP%]{height:80px;--vertical-align:middle;--padding-start:10px;--padding-end:10px;--ripple-color:darkcyan;--padding-bottom:2px!important;--box-shadow:none}.space[_ngcontent-%COMP%]{padding-left:15px}"]],data:{}});function d(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,2,"ion-button",[["color","primary"],["expand","block"]],null,[[null,"click"]],(function(n,l,t){var e=!0,i=n.component;return"click"===l&&(e=!1!==i.startTimer(i.startDuration)&&e),e}),o.x,o.c)),e.pb(1,49152,null,0,r.j,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),e.Ib(-1,0,["START "]))],(function(n,l){n(l,1,0,"primary","block")}),null)}function g(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,2,"ion-button",[["color","danger"],["expand","block"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.stopTimer()&&e),e}),o.x,o.c)),e.pb(1,49152,null,0,r.j,[e.h,e.k,e.x],{color:[0,"color"],expand:[1,"expand"]},null),(n()(),e.Ib(-1,0,["STOP"]))],(function(n,l){n(l,1,0,"danger","block")}),null)}function k(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,15,"ion-header",[],null,null,null,o.C,o.h)),e.pb(1,49152,null,0,r.A,[e.h,e.k,e.x],null,null),(n()(),e.qb(2,0,null,0,13,"ion-toolbar",[],null,null,null,o.P,o.u)),e.pb(3,49152,null,0,r.yb,[e.h,e.k,e.x],null,null),(n()(),e.qb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,o.y,o.d)),e.pb(5,49152,null,0,r.k,[e.h,e.k,e.x],null,null),(n()(),e.qb(6,0,null,0,1,"ion-menu-button",[],null,null,null,o.I,o.o)),e.pb(7,49152,null,0,r.Q,[e.h,e.k,e.x],null,null),(n()(),e.qb(8,0,null,0,2,"ion-title",[],null,null,null,o.O,o.t)),e.pb(9,49152,null,0,r.wb,[e.h,e.k,e.x],null,null),(n()(),e.Ib(-1,0,[" Timer "])),(n()(),e.qb(11,0,null,0,4,"ion-icon",[["name","add-circle-outline"],["slot","end"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Cb(n,13).onClick()&&i),"click"===l&&(i=!1!==e.Cb(n,15).onClick(t)&&i),i}),o.D,o.i)),e.pb(12,49152,null,0,r.B,[e.h,e.k,e.x],{name:[0,"name"]},null),e.pb(13,16384,null,0,a.n,[a.m,a.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.Db(14,1),e.pb(15,737280,null,0,r.Hb,[c.h,r.Eb,e.k,a.m,[2,a.n]],null,null),(n()(),e.qb(16,0,null,null,15,"ion-content",[],null,null,null,o.A,o.f)),e.pb(17,49152,null,0,r.t,[e.h,e.k,e.x],null,null),(n()(),e.qb(18,0,null,0,13,"ion-grid",[],null,null,null,o.B,o.g)),e.pb(19,49152,null,0,r.z,[e.h,e.k,e.x],null,null),(n()(),e.qb(20,0,null,0,11,"ion-row",[["class","ion-justify-content-center"]],null,null,null,o.L,o.q)),e.pb(21,49152,null,0,r.fb,[e.h,e.k,e.x],null,null),(n()(),e.qb(22,0,null,0,2,"ion-button",[],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.addTimer()&&e),e}),o.x,o.c)),e.pb(23,49152,null,0,r.j,[e.h,e.k,e.x],null,null),(n()(),e.Ib(-1,0,["Adicionar um Tempo"])),(n()(),e.qb(25,0,null,0,2,"h1",[],null,null,null,null,null)),(n()(),e.Ib(26,null,["",""])),e.Eb(131072,c.b,[e.h]),(n()(),e.fb(16777216,null,0,1,null,d)),e.pb(29,16384,null,0,c.j,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.fb(16777216,null,0,1,null,g)),e.pb(31,16384,null,0,c.j,[e.N,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,12,0,"add-circle-outline");var e=n(l,14,0,"/add-room-page");n(l,13,0,e),n(l,15,0),n(l,29,0,"stop"===t.state),n(l,31,0,"start"===t.state)}),(function(n,l){var t=l.component;n(l,26,0,e.Jb(l,26,0,e.Cb(l,27).transform(t.time)))}))}function f(n){return e.Kb(0,[(n()(),e.qb(0,0,null,null,1,"app-timer",[],null,null,null,k,m)),e.pb(1,114688,null,0,h,[p.a,r.b],null,null)],(function(n,l){n(l,1,0)}),null)}var x=e.mb("app-timer",h,f,{},{},[]),v=t("s7LF");class C{}t.d(l,"TimerPageModuleNgFactory",(function(){return T}));var T=e.nb(i,[],(function(n){return e.zb([e.Ab(512,e.j,e.Y,[[8,[u.a,x]],[3,e.j],e.v]),e.Ab(4608,c.l,c.k,[e.s,[2,c.s]]),e.Ab(4608,v.p,v.p,[]),e.Ab(4608,r.c,r.c,[e.x,e.g]),e.Ab(4608,r.Db,r.Db,[r.c,e.j,e.p]),e.Ab(4608,r.Gb,r.Gb,[r.c,e.j,e.p]),e.Ab(1073742336,c.c,c.c,[]),e.Ab(1073742336,v.o,v.o,[]),e.Ab(1073742336,v.e,v.e,[]),e.Ab(1073742336,r.Ab,r.Ab,[]),e.Ab(1073742336,a.o,a.o,[[2,a.t],[2,a.m]]),e.Ab(1073742336,C,C,[]),e.Ab(1073742336,i,i,[]),e.Ab(1024,a.k,(function(){return[[{path:"",component:h}]]}),[])])}))}}]);