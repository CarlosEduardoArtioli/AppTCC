(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"0m3x":function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class i{}var o=t("pMnS"),u=t("MKJQ"),r=t("sZkV"),c=t("iInd"),a=t("SVse"),s=t("mrSG");class m{constructor(n,l,t,e,i){this.uid=n,this.email=l,this.displayName=t,this.emailVerified=e,this.photoURL=i}}var p=t("PVcy");let b=(()=>{class n{constructor(n){this.db=n}getUserName(n){return n=n.replace(/[.#$]+/g,":"),this.name=this.db.object("/users/".concat(n,"/settings/displayName")),this.name}updateUserName(n,l){l=l.replace(/[.#$]+/g,":"),this.db.database.ref("/users/".concat(l,"/settings/displayName")).set(n)}}return n.ngInjectableDef=e.Mb({factory:function(){return new n(e.Nb(p.a))},token:n,providedIn:"root"}),n})();var h=t("ej43");class d{constructor(n,l,t,e,i){this.actionSheetCtrl=n,this.alertCtrl=l,this.toastController=t,this.userService=e,this.authService=i,this.pages=[{title:"Home",url:"/menu/home",icon:"home"},{title:"Editar",icon:"create-outline",open:!1,children:[{title:"Dispositivo",url:"/menu/edit-device-list",icon:"hardware-chip"},{title:"C\xf4modo",url:"/menu/edit-room-list",icon:"home"}]},{title:"Fun\xe7\xf5es",icon:"build",open:!1,children:[{title:"Timer",url:"/menu/edit-timer-list",icon:"alarm-outline"}]}],this.userName()}ngOnInit(){}userName(){setTimeout(()=>{this.user=JSON.parse(localStorage.getItem("user")),null===this.user.displayName&&null===this.user.photoURL?(localStorage.setItem("user",JSON.stringify(new m(this.user.uid,this.user.email,this.user.email,this.user.emailVerified,"https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png"))),this.user=JSON.parse(localStorage.getItem("user")),this.userService.updateUserName(this.user.displayName,this.user.email)):this.userService.getUserName(this.user.email).valueChanges().subscribe(n=>{this.user.displayName=n,localStorage.setItem("user",JSON.stringify(new m(this.user.uid,this.user.email,this.user.displayName,this.user.emailVerified,this.user.photoURL)))}),this.user=JSON.parse(localStorage.getItem("user")),this.name=this.user.displayName,this.photo=this.user.photoURL},1e3)}showOptions(){return s.__awaiter(this,void 0,void 0,(function*(){const n=yield this.actionSheetCtrl.create({header:"Op\xe7\xf5es",cssClass:"actionSheet",buttons:[{text:"Alterar Nome",icon:"person",handler:()=>{this.alterarNome()}},{text:"Logout",icon:"power",role:"destructive",handler:()=>{this.authService.SignOut()}},{text:"Cancelar",icon:"close",role:"cancel"}]});yield n.present()}))}alterarNome(){return s.__awaiter(this,void 0,void 0,(function*(){const n=yield this.alertCtrl.create({header:"Novo Nome",inputs:[{name:"new-name",id:"newname",placeholder:"Escreva um novo nome",value:this.novoNome}],buttons:[{text:"Cancelar",role:"cancel"},{text:"Salvar",handler:n=>{""!==document.getElementById("newname").value&&(this.novoNome=document.getElementById("newname").value,this.newname(),this.userService.updateUserName(this.novoNome,this.user.email),localStorage.setItem("user",JSON.stringify(new m(this.user.uid,this.user.email,this.novoNome,this.user.emailVerified,this.user.photoURL))),this.user=JSON.parse(localStorage.getItem("user")),this.name=this.user.displayName)}}]});yield n.present()}))}newname(){return s.__awaiter(this,void 0,void 0,(function*(){const n=yield this.toastController.create({header:"Seu nome foi alterado.",duration:2e3});yield n.present()}))}}var g=e.ob({encapsulation:0,styles:[['.active[_ngcontent-%COMP%]{--ion-text-color:var(--ion-color-primary)}.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--ion-text-color-rgb:var(--ion-color-primary)}.active-parent[_ngcontent-%COMP%]{font-weight:500}.sub-item[_ngcontent-%COMP%]{padding-left:20px;font-size:small}ion-content[_ngcontent-%COMP%], ion-menu[_ngcontent-%COMP%]{--background:#1e1e1e;font-family:"Open Sans",sans-serif}.user-menu[_ngcontent-%COMP%]{text-align:center!important;color:#fff}.user-menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%;padding:5px;width:80px}@media (min-width:1100px){ion-content[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{--ion-text-color:var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{--ion-text-color-rgb:var(--ion-color-primary)}ion-content[_ngcontent-%COMP%]   .active-parent[_ngcontent-%COMP%]{font-weight:500}ion-content[_ngcontent-%COMP%]   .sub-item[_ngcontent-%COMP%]{padding-left:16px;font-size:small}ion-content[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   ion-menu[_ngcontent-%COMP%]{--background:#1e1e1e;font-family:"Open Sans",sans-serif}ion-content[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{text-align:center!important;color:#fff}ion-content[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100%;padding:5px;width:80px}ion-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:20px}ion-content[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:16px}}']],data:{}});function f(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,13,"ion-menu-toggle",[["mode","md"]],null,null,null,u.P,u.r)),e.pb(1,49152,null,0,r.S,[e.h,e.k,e.x],null,null),(n()(),e.qb(2,0,null,0,11,"ion-item",[["lines","full"],["routerDirection","root"],["routerLinkActive","active"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Cb(n,4).onClick()&&i),"click"===l&&(i=!1!==e.Cb(n,5).onClick(t)&&i),i}),u.L,u.m)),e.pb(3,49152,null,0,r.H,[e.h,e.k,e.x],{lines:[0,"lines"],routerDirection:[1,"routerDirection"]},null),e.pb(4,16384,[[1,4]],0,c.n,[c.m,c.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.pb(5,737280,null,0,r.Ib,[a.g,r.Fb,e.k,c.m,[2,c.n]],{routerDirection:[0,"routerDirection"]},null),e.pb(6,1720320,null,2,c.o,[c.m,e.k,e.B,[2,c.n],[2,c.p]],{routerLinkActive:[0,"routerLinkActive"]},null),e.Fb(603979776,1,{links:1}),e.Fb(603979776,2,{linksWithHrefs:1}),(n()(),e.qb(9,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,u.J,u.k)),e.pb(10,49152,null,0,r.C,[e.h,e.k,e.x],{name:[0,"name"]},null),(n()(),e.qb(11,0,null,0,2,"ion-label",[],null,null,null,u.M,u.n)),e.pb(12,49152,null,0,r.N,[e.h,e.k,e.x],null,null),(n()(),e.Hb(13,0,[" "," "]))],(function(n,l){n(l,3,0,"full","root"),n(l,4,0,l.parent.context.$implicit.url),n(l,5,0,"root"),n(l,6,0,"active"),n(l,10,0,l.parent.context.$implicit.icon)}),(function(n,l){n(l,13,0,l.parent.context.$implicit.title)}))}function v(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,1,"ion-icon",[["name","chevron-forward-outline"],["slot","end"]],null,null,null,u.J,u.k)),e.pb(1,49152,null,0,r.C,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"chevron-forward-outline")}),null)}function k(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,1,"ion-icon",[["name","chevron-down-outline"],["slot","end"]],null,null,null,u.J,u.k)),e.pb(1,49152,null,0,r.C,[e.h,e.k,e.x],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"chevron-down-outline")}),null)}function C(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,10,"ion-item",[["button",""],["detail","false"],["lines","full"],["mode","md"]],[[2,"active-parent",null]],[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=0!=(n.parent.context.$implicit.open=!n.parent.context.$implicit.open)&&e),e}),u.L,u.m)),e.pb(1,49152,null,0,r.H,[e.h,e.k,e.x],{button:[0,"button"],detail:[1,"detail"],lines:[2,"lines"],mode:[3,"mode"]},null),(n()(),e.fb(16777216,null,0,1,null,v)),e.pb(3,16384,null,0,a.i,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.fb(16777216,null,0,1,null,k)),e.pb(5,16384,null,0,a.i,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.qb(6,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,u.J,u.k)),e.pb(7,49152,null,0,r.C,[e.h,e.k,e.x],{name:[0,"name"]},null),(n()(),e.qb(8,0,null,0,2,"ion-label",[],null,null,null,u.M,u.n)),e.pb(9,49152,null,0,r.N,[e.h,e.k,e.x],null,null),(n()(),e.Hb(10,0,["",""]))],(function(n,l){n(l,1,0,"","false","full","md"),n(l,3,0,!l.parent.context.$implicit.open),n(l,5,0,l.parent.context.$implicit.open),n(l,7,0,l.parent.context.$implicit.icon)}),(function(n,l){n(l,0,0,l.parent.context.$implicit.open),n(l,10,0,l.parent.context.$implicit.title)}))}function x(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,11,"ion-item",[["class","sub-item"],["routerDirection","root"],["routerLinkActive","active"]],null,[[null,"click"]],(function(n,l,t){var i=!0;return"click"===l&&(i=!1!==e.Cb(n,2).onClick()&&i),"click"===l&&(i=!1!==e.Cb(n,3).onClick(t)&&i),i}),u.L,u.m)),e.pb(1,49152,null,0,r.H,[e.h,e.k,e.x],{routerDirection:[0,"routerDirection"]},null),e.pb(2,16384,[[3,4]],0,c.n,[c.m,c.a,[8,null],e.B,e.k],{routerLink:[0,"routerLink"]},null),e.pb(3,737280,null,0,r.Ib,[a.g,r.Fb,e.k,c.m,[2,c.n]],{routerDirection:[0,"routerDirection"]},null),e.pb(4,1720320,null,2,c.o,[c.m,e.k,e.B,[2,c.n],[2,c.p]],{routerLinkActive:[0,"routerLinkActive"]},null),e.Fb(603979776,3,{links:1}),e.Fb(603979776,4,{linksWithHrefs:1}),(n()(),e.qb(7,0,null,0,1,"ion-icon",[["slot","start"]],null,null,null,u.J,u.k)),e.pb(8,49152,null,0,r.C,[e.h,e.k,e.x],{name:[0,"name"]},null),(n()(),e.qb(9,0,null,0,2,"ion-label",[],null,null,null,u.M,u.n)),e.pb(10,49152,null,0,r.N,[e.h,e.k,e.x],null,null),(n()(),e.Hb(11,0,[" "," "]))],(function(n,l){n(l,1,0,"root"),n(l,2,0,l.context.$implicit.url),n(l,3,0,"root"),n(l,4,0,"active"),n(l,8,0,l.context.$implicit.icon)}),(function(n,l){n(l,11,0,l.context.$implicit.title)}))}function O(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,5,"ion-list",[["mode","md"]],null,null,null,u.N,u.o)),e.pb(1,49152,null,0,r.O,[e.h,e.k,e.x],{mode:[0,"mode"]},null),(n()(),e.qb(2,0,null,0,3,"ion-menu-toggle",[["mode","md"]],null,null,null,u.P,u.r)),e.pb(3,49152,null,0,r.S,[e.h,e.k,e.x],null,null),(n()(),e.fb(16777216,null,0,1,null,x)),e.pb(5,278528,null,0,a.h,[e.N,e.J,e.q],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,1,0,"md"),n(l,5,0,l.parent.context.$implicit.children)}),null)}function N(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,6,"div",[],null,null,null,null,null)),(n()(),e.fb(16777216,null,null,1,null,f)),e.pb(2,16384,null,0,a.i,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.fb(16777216,null,null,1,null,C)),e.pb(4,16384,null,0,a.i,[e.N,e.J],{ngIf:[0,"ngIf"]},null),(n()(),e.fb(16777216,null,null,1,null,O)),e.pb(6,16384,null,0,a.i,[e.N,e.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){n(l,2,0,l.context.$implicit.url),n(l,4,0,(null==l.context.$implicit.children?null:l.context.$implicit.children.length)>0),n(l,6,0,l.context.$implicit.open)}),null)}function M(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,9,"ion-menu",[["contentId","content"]],null,null,null,u.Q,u.p)),e.pb(1,49152,null,0,r.Q,[e.h,e.k,e.x],{contentId:[0,"contentId"]},null),(n()(),e.qb(2,0,null,0,3,"div",[["class","user-menu"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.showOptions()&&e),e}),null,null)),(n()(),e.qb(3,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),e.qb(4,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),e.Hb(5,null,["",""])),(n()(),e.qb(6,0,null,0,3,"ion-content",[["mode","md"]],null,null,null,u.E,u.f)),e.pb(7,49152,null,0,r.u,[e.h,e.k,e.x],null,null),(n()(),e.fb(16777216,null,0,1,null,N)),e.pb(9,278528,null,0,a.h,[e.N,e.J,e.q],{ngForOf:[0,"ngForOf"]},null),(n()(),e.qb(10,16777216,null,null,1,"ion-router-outlet",[["id","content"],["main",""]],null,null,null,null,null)),e.pb(11,212992,null,0,r.fb,[c.b,e.N,e.j,[8,null],[8,null],r.d,r.Fb,a.f,e.k,c.m,e.x,c.a,[3,r.fb]],null,null)],(function(n,l){var t=l.component;n(l,1,0,"content"),n(l,9,0,t.pages),n(l,11,0)}),(function(n,l){var t=l.component;n(l,3,0,e.ub(1,"",t.photo,"")),n(l,5,0,t.name)}))}var P=e.mb("app-menu",d,(function(n){return e.Ib(0,[(n()(),e.qb(0,0,null,null,1,"app-menu",[],null,null,null,M,g)),e.pb(1,114688,null,0,d,[r.a,r.b,r.Lb,b,h.a],null,null)],(function(n,l){n(l,1,0)}),null)}),{},{},[]),_=t("s7LF"),I=t("UTcu");const y=()=>t.e(17).then(t.bind(null,"TbC0")).then(n=>n.HomePageModuleNgFactory),w=()=>t.e(22).then(t.bind(null,"BWIA")).then(n=>n.EditRoomListPageModuleNgFactory),S=()=>t.e(18).then(t.bind(null,"NDWJ")).then(n=>n.EditDeviceListPageModuleNgFactory),q=()=>t.e(4).then(t.bind(null,"ySuZ")).then(n=>n.EditTimerListPageModuleNgFactory);class A{}t.d(l,"MenuPageModuleNgFactory",(function(){return J}));var J=e.nb(i,[],(function(n){return e.zb([e.Ab(512,e.j,e.Y,[[8,[o.a,P]],[3,e.j],e.v]),e.Ab(4608,a.k,a.j,[e.s,[2,a.r]]),e.Ab(4608,_.q,_.q,[]),e.Ab(4608,r.c,r.c,[e.x,e.g]),e.Ab(4608,r.Eb,r.Eb,[r.c,e.j,e.p]),e.Ab(4608,r.Hb,r.Hb,[r.c,e.j,e.p]),e.Ab(1073742336,a.b,a.b,[]),e.Ab(1073742336,_.p,_.p,[]),e.Ab(1073742336,_.f,_.f,[]),e.Ab(1073742336,r.Bb,r.Bb,[]),e.Ab(1073742336,c.q,c.q,[[2,c.v],[2,c.m]]),e.Ab(1073742336,A,A,[]),e.Ab(1073742336,i,i,[]),e.Ab(1024,c.k,(function(){return[[{path:"",redirectTo:"menu/home",pathMatch:"full"},{path:"",component:d,children:[{path:"home",loadChildren:y,canActivate:[I.a]},{path:"edit-room-list",loadChildren:w,canActivate:[I.a]},{path:"edit-device-list",loadChildren:S,canActivate:[I.a]},{path:"edit-timer-list",loadChildren:q,canActivate:[I.a]}]}]]}),[])])}))}}]);