{"version":3,"sources":["./src/app/pages/auth/login/login.page.html","./src/app/pages/auth/login/login.module.ts","./src/app/pages/auth/login/login.page.scss","./src/app/pages/auth/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-auth-login-login-module-es2015.js","sourcesContent":["export default \"<ion-content class=\\\"ion-padding\\\" swipeEnabled=\\\"false\\\" color=\\\"secondary\\\">\\r\\n  <br><br>\\r\\n  <h1 class=\\\"ion-text-center logo-white\\\">\\r\\n    App TCC\\r\\n  </h1>\\r\\n  <br>\\r\\n  <br>\\r\\n  <ion-list lines=\\\"none\\\">\\r\\n    <form [formGroup]=\\\"form\\\">\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"stacked\\\">Login</ion-label>\\r\\n        <ion-input #myInput type=\\\"email\\\" formControlName=\\\"email\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"stacked\\\">Senha</ion-label>\\r\\n        <ion-input #myInput type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\r\\n      </ion-item>\\r\\n      \\r\\n    </form>\\r\\n  </ion-list>\\r\\n  <br>\\r\\n  <ion-button ion-item color=\\\"light\\\" fill=\\\"outline\\\" shape=\\\"round\\\" expand=\\\"full\\\" size=\\\"medium\\\" (click)=\\\"submit()\\\">\\r\\n    Entrar\\r\\n  </ion-button>\\r\\n  <br>\\r\\n  <ion-button ion-item color=\\\"light\\\" expand=\\\"block\\\" (click)=\\\"signInWithGoogle()\\\" >\\r\\n    <ion-icon slot=\\\"start\\\" name=\\\"logo-google\\\"></ion-icon>&nbsp;&nbsp;Login com Google\\r\\n  </ion-button>\\r\\n  <br>\\r\\n  <ion-button ion-item color=\\\"light\\\" fill=\\\"clear\\\" expand=\\\"full\\\" (click)=\\\"goToSignup()\\\">\\r\\n    Ainda não sou cadastrado\\r\\n  </ion-button>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    AngularFireAuthModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule { }\r\n","export default \"ion-content {\\n  --background: rgb(231, 231, 231);\\n  --background: -moz-linear-gradient(top, rgb(16, 248, 248) 0%, rgb(21, 117, 161) 100%);\\n  --ion-text-color: #fff;\\n}\\nion-content ion-list {\\n  --ion-background-color: rgba(255, 255, 255, 0.1);\\n  border-radius: 5px;\\n}\\nion-content ion-item {\\n  --ion-background-color: rgba(255, 255, 255, 0);\\n  --background-activated: rgba(255, 255, 255, 0);\\n  --highlight-color-focused: rgba(255, 255, 255, 0.1);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYXV0aC9sb2dpbi9DOlxcSW9uaWNcXEFwcFRDQy9zcmNcXGFwcFxccGFnZXNcXGF1dGhcXGxvZ2luXFxsb2dpbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2F1dGgvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZ0NBQUE7RUFDQSxxRkFBQTtFQUdBLHNCQUFBO0FDREo7QURHSTtFQUNJLGdEQUFBO0VBQ0Esa0JBQUE7QUNEUjtBRElJO0VBQ0ksOENBQUE7RUFDQSw4Q0FBQTtFQUNBLG1EQUFBO0FDRlIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hdXRoL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogcmdiKDIzMSwgMjMxLCAyMzEpO1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIHJnYigxNiwgMjQ4LCAyNDgpIDAlLCByZ2IoMjEsIDExNywgMTYxKSAxMDAlKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICAtLWlvbi10ZXh0LWNvbG9yOiAjZmZmO1xyXG5cclxuICAgIGlvbi1saXN0IHtcclxuICAgICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgfVxyXG5cclxuICAgIGlvbi1pdGVtIHtcclxuICAgICAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDApO1xyXG4gICAgICAgIC0tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XHJcbiAgICAgICAgLS1oaWdobGlnaHQtY29sb3ItZm9jdXNlZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xyXG4gICAgfVxyXG59IiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHJnYigyMzEsIDIzMSwgMjMxKTtcbiAgLS1iYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIHJnYigxNiwgMjQ4LCAyNDgpIDAlLCByZ2IoMjEsIDExNywgMTYxKSAxMDAlKTtcbiAgLS1pb24tdGV4dC1jb2xvcjogI2ZmZjtcbn1cbmlvbi1jb250ZW50IGlvbi1saXN0IHtcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG59XG5pb24tY29udGVudCBpb24taXRlbSB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XG4gIC0tYmFja2dyb3VuZC1hY3RpdmF0ZWQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMCk7XG4gIC0taGlnaGxpZ2h0LWNvbG9yLWZvY3VzZWQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { LoadingController, NavController, ToastController, IonInput } from '@ionic/angular';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { auth } from 'firebase/app';\r\nimport { User } from 'src/app/models/user.model';\r\nimport { Keyboard } from '@ionic-native/keyboard/ngx';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n  // Declaração de variáveis\r\n  public form: FormGroup;\r\n  user: any;\r\n  // Não faço ideia pra que isso serve, só sei que acho que tem haver com o keyboard\r\n  @ViewChild('myInput', { static: true }) myInput: IonInput;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private loadingCtrl: LoadingController,\r\n    private navCtrl: NavController,\r\n    private toastCtrl: ToastController,\r\n    private fbAuth: AngularFireAuth,\r\n    public keyboard: Keyboard\r\n  ) {\r\n    // Atribui a variável form o valor do grupo de valores do FormBuilder da página HTML \r\n    this.form = this.fb.group({\r\n      // Validators.required é um parâmetro para se o usuário não preencher a variável retornar um erro\r\n      email: ['', Validators.required],\r\n      password: ['', Validators.required],\r\n    })\r\n  }\r\n\r\n  // Função para quando a página for iniciada\r\n  ngOnInit() {\r\n    // Chama a função 'verificaUser()'\r\n    this.verificaUser();\r\n  }\r\n\r\n  // Função para mostrar o keyboard\r\n  showKeyboard() {\r\n    this.myInput.setFocus();\r\n  }\r\n\r\n  // Função para verificar se já existe um usuário logado\r\n  private async verificaUser() {\r\n    // Atribui a variável user o resultado da seguinte consulta\r\n    // Acessa o local storage e pega o valor do item 'app.user' e o transforma de um JSON para uma string\r\n    this.user = JSON.parse(localStorage.getItem('app.user'));\r\n    // Se o usuário for diferente de nulo\r\n    if (this.user != null) {\r\n      // Função para criar uma mensagem de carregando com a mensagem \"Autenticando...\"\r\n      const loading = await this.loadingCtrl.create({ message: \"Autenticando...\" });\r\n      // Mostra a mensagem na tela\r\n      loading.present();\r\n      // Navega para a página 'home'\r\n      this.navCtrl.navigateRoot('home');\r\n      // Função que retira a mensagem de \"Autenticando...\"\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  // Função para o envio da autenticação\r\n  async submit() {\r\n    // Função para criar uma mensagem de carregando com a mensagem \"Autenticando...\"\r\n    const loading = await this.loadingCtrl.create({ message: \"Autenticando...\" });\r\n    // Mostra a mensagem na tela\r\n    loading.present();\r\n\r\n    // Função que faz o login com email e senha, ela pega os valores do HTML\r\n    this.fbAuth.auth.signInWithEmailAndPassword(this.form.controls['email'].value, this.form.controls['password'].value)\r\n      // Quando pega os dados\r\n      .then((data) => {\r\n        // Função que retira a mensagem de \"Autenticando...\"\r\n        loading.dismiss();\r\n        // Entra no local storage e \"seta\" o item 'app.user' com um JSON com os valores recebidos \r\n        localStorage.setItem('app.user', JSON.stringify(new User('', data.user.email, '')));\r\n        // Navega para a página 'home'\r\n        this.navCtrl.navigateRoot('home');\r\n      })\r\n      // Caso ocorra erro\r\n      .catch((err) => {\r\n        // Escreve no console a mensagem de erro\r\n        console.log(err);\r\n        // Função que retira a mensagem de \"Autenticando...\"\r\n        loading.dismiss();\r\n        // Chama a função 'showMessage()' e passa o parâmetro \"Usuário ou senha inválidos\"\r\n        this.showMessage(\"Usuário ou senha inválidos\");\r\n      });\r\n  }\r\n\r\n  // Função para fazer login com o Google\r\n  async signInWithGoogle() {\r\n    // Função que faz login com o Google\r\n    this.fbAuth.auth.signInWithPopup(new auth.GoogleAuthProvider())\r\n      // Quando pega os dados\r\n      .then((data) => {\r\n        // Escreve no console os dados\r\n        console.log(data);\r\n        // \"Seta\" no local storage um item com o nome 'app.user' com um JSON com os valores recebidos \r\n        localStorage.setItem('app.user', JSON.stringify(new User(data.user.displayName, data.user.email, data.user.photoURL)));\r\n        // Chama a função 'showMessage()' e passa o parâmetro \"Fazendo Login...\"\r\n        this.showMessage(\"Fazendo Login...\");\r\n        // Navega para a página 'home'\r\n        this.navCtrl.navigateRoot('home');\r\n      })\r\n      // Caso ocorra erro\r\n      .catch((err) => {\r\n        // Escreve no console a mensagem de erro\r\n        console.log(err);\r\n        // Chama a função 'showMessage()' e passa o parâmetro \"Usuário ou senha inválidos\"\r\n        this.showMessage(\"Usuário ou senha inválidos\");\r\n      });\r\n  }\r\n\r\n  // Função para mostrar mensagem na tela que recebe o paramêtro message\r\n  async showMessage(message: string) {\r\n    // Aguarda a criação de um Toast Controller, com a mensagem passada no parâmetro, com duração de 3 segundos\r\n    await this.toastCtrl.create({ message: message, duration: 3000 })\r\n      // Quando o Toast Controller é terminado\r\n      .then((toastData) => {\r\n        // Escreve os dados no console\r\n        console.log(toastData);\r\n        // Mostra a mensagem na tela\r\n        toastData.present();\r\n      });\r\n  }\r\n\r\n  // Função para ir a página de Singup\r\n  async goToSignup() {\r\n    // Navega para a página 'singup'\r\n    this.navCtrl.navigateForward('signup');\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}