{"version":3,"sources":["./src/app/pages/auth/login/login.page.html","./src/app/pages/auth/login/login.module.ts","./src/app/pages/auth/login/login.page.scss","./src/app/pages/auth/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-auth-login-login-module-es2015.js","sourcesContent":["export default \"<ion-content class=\\\"ion-padding\\\" swipeEnabled=\\\"false\\\">\\r\\n  <br>\\r\\n  <h1 class=\\\"ion-text-center logo-white\\\">\\r\\n    Beaver House\\r\\n  </h1>\\r\\n  <br>\\r\\n  <br>\\r\\n  <form class=\\\"form\\\" [formGroup]=\\\"validationsForm\\\" (ngSubmit)=\\\"logIn(validationsForm.value)\\\">\\r\\n    <ion-list lines=\\\"none\\\">\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"stacked\\\" mode='ios'>Email</ion-label>\\r\\n        <ion-input type=\\\"text\\\" formControlName=\\\"email\\\" mode='ios'></ion-input>\\r\\n        <ng-container *ngFor=\\\"let validation of validationMessages.email\\\">\\r\\n          <div class=\\\"error-message\\\"\\r\\n            *ngIf=\\\"validationsForm.get('email').hasError(validation.type) && (validationsForm.get('email').dirty || validationsForm.get('email').touched)\\\">\\r\\n            {{ validation.message }}\\r\\n          </div>\\r\\n        </ng-container>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label position=\\\"stacked\\\">Senha</ion-label>\\r\\n        <ion-input type=\\\"password\\\" formControlName=\\\"password\\\" class=\\\"form-controll\\\" required></ion-input>\\r\\n        <ng-container *ngFor=\\\"let validation of validationMessages.password\\\">\\r\\n          <div class=\\\"error-message\\\"\\r\\n            *ngIf=\\\"validationsForm.get('password').hasError(validation.type) && (validationsForm.get('password').dirty || validationsForm.get('password').touched)\\\">\\r\\n            {{ validation.message }}\\r\\n          </div>\\r\\n        </ng-container>\\r\\n      </ion-item>\\r\\n\\r\\n    </ion-list>\\r\\n\\r\\n    <br>\\r\\n\\r\\n    <ion-button ion-item color=\\\"dark\\\" fill=\\\"outline\\\" shape=\\\"round\\\" expand=\\\"full\\\" size=\\\"medium\\\" class=\\\"submit-btn\\\"\\r\\n      type=\\\"submit\\\" [disabled]=\\\"!validationsForm.valid\\\">Entrar</ion-button>\\r\\n\\r\\n  </form>\\r\\n  <br>\\r\\n  <ion-button ion-item color=\\\"dark\\\" expand=\\\"block\\\" type=\\\"submit\\\" (click)=\\\"googleAuth()\\\">\\r\\n    <ion-icon slot=\\\"start\\\" name=\\\"logo-google\\\"></ion-icon>&nbsp;&nbsp;Login com Google\\r\\n  </ion-button>\\r\\n  <br>\\r\\n  <ion-button ion-item color=\\\"dark\\\" fill=\\\"clear\\\" expand=\\\"full\\\" (click)=\\\"goToSignup()\\\">\\r\\n    Ainda não sou cadastrado!\\r\\n  </ion-button>\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    AngularFireAuthModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule { }\r\n","export default \"ion-content {\\n  --background: url('backgroundapp.png') no-repeat center center / cover !important;\\n  --ion-text-color: #fff;\\n}\\nion-content ion-list {\\n  border-radius: 5px;\\n  max-width: 600px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\nion-content h1 {\\n  font-family: \\\"Merienda One\\\", cursive !important;\\n}\\nion-content ion-button {\\n  max-width: 600px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\nion-content .error-message {\\n  font-size: 11px;\\n  color: #ff0000;\\n}\\n@media (min-width: 720px) {\\n  ion-content .error-message {\\n    font-size: 14px;\\n    color: #ff0000;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYXV0aC9sb2dpbi9DOlxcSW9uaWNcXEFwcFRDQy9zcmNcXGFwcFxccGFnZXNcXGF1dGhcXGxvZ2luXFxsb2dpbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2F1dGgvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUZBQUE7RUFDQSxzQkFBQTtBQ0NKO0FEQ0k7RUFDSSxrQkFBQTtFQUVBLGdCQUFBO0VBRUEsaUJBQUE7RUFDQSxrQkFBQTtBQ0RSO0FESUk7RUFDSSwrQ0FBQTtBQ0ZSO0FES0k7RUFDSSxnQkFBQTtFQUVBLGlCQUFBO0VBQ0Esa0JBQUE7QUNKUjtBRE9JO0VBQ0ksZUFBQTtFQUNBLGNBQUE7QUNMUjtBRFNBO0VBRVE7SUFDSSxlQUFBO0lBQ0EsY0FBQTtFQ1BWO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hdXRoL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogdXJsKCcuLi8uLi8uLi8uLi9hc3NldHMvaW1nL2JhY2tncm91bmRhcHAucG5nJykgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXIgLyBjb3ZlciAhaW1wb3J0YW50O1xyXG4gICAgLS1pb24tdGV4dC1jb2xvcjogI2ZmZjtcclxuXHJcbiAgICBpb24tbGlzdCB7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG5cclxuICAgICAgICBtYXgtd2lkdGg6IDYwMHB4O1xyXG5cclxuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICB9XHJcblxyXG4gICAgaDEge1xyXG4gICAgICAgIGZvbnQtZmFtaWx5OiAnTWVyaWVuZGEgT25lJywgY3Vyc2l2ZSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIGlvbi1idXR0b24ge1xyXG4gICAgICAgIG1heC13aWR0aDogNjAwcHg7XHJcblxyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIH1cclxuXHJcbiAgICAuZXJyb3ItbWVzc2FnZSB7XHJcbiAgICAgICAgZm9udC1zaXplOiAxMXB4O1xyXG4gICAgICAgIGNvbG9yOiAjZmYwMDAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1pbi13aWR0aDogNzIwcHgpIHtcclxuICAgIGlvbi1jb250ZW50IHtcclxuICAgICAgICAuZXJyb3ItbWVzc2FnZSB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcclxuICAgICAgICAgICAgY29sb3I6ICNmZjAwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHVybChcIi4uLy4uLy4uLy4uL2Fzc2V0cy9pbWcvYmFja2dyb3VuZGFwcC5wbmdcIikgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXIgLyBjb3ZlciAhaW1wb3J0YW50O1xuICAtLWlvbi10ZXh0LWNvbG9yOiAjZmZmO1xufVxuaW9uLWNvbnRlbnQgaW9uLWxpc3Qge1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG1heC13aWR0aDogNjAwcHg7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG5pb24tY29udGVudCBoMSB7XG4gIGZvbnQtZmFtaWx5OiBcIk1lcmllbmRhIE9uZVwiLCBjdXJzaXZlICFpbXBvcnRhbnQ7XG59XG5pb24tY29udGVudCBpb24tYnV0dG9uIHtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cbmlvbi1jb250ZW50IC5lcnJvci1tZXNzYWdlIHtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBjb2xvcjogI2ZmMDAwMDtcbn1cblxuQG1lZGlhIChtaW4td2lkdGg6IDcyMHB4KSB7XG4gIGlvbi1jb250ZW50IC5lcnJvci1tZXNzYWdlIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6ICNmZjAwMDA7XG4gIH1cbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { LoadingController, NavController, ToastController } from '@ionic/angular';\r\nimport { AuthenticationService } from '../../../services/authentication.service';\r\nimport { Router } from '@angular/router';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  // Declaração de variáveis\r\n  validationsForm: FormGroup;\r\n\r\n  // Mensagem de validação do formulário\r\n  validationMessages = {\r\n    email: [\r\n      { type: 'required', message: 'Insira um email.' },\r\n      { type: 'pattern', message: 'Insira um email valido.' }\r\n    ],\r\n    password: [\r\n      { type: 'required', message: 'Insira a senha.' },\r\n      { type: 'minlength', message: 'A senha deve ter mais de 5 caracteres.' }\r\n    ]\r\n  };\r\n\r\n  constructor(\r\n    private loadingCtrl: LoadingController,\r\n    private navCtrl: NavController,\r\n    private toastCtrl: ToastController,\r\n    private authService: AuthenticationService,\r\n    public router: Router,\r\n    private formBuilder: FormBuilder\r\n  ) {\r\n    // Validações do formúlario\r\n    this.validationsForm = this.formBuilder.group({\r\n      email: new FormControl('', Validators.compose([\r\n        Validators.required,\r\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\r\n      ])),\r\n      password: new FormControl('', Validators.compose([\r\n        Validators.minLength(5),\r\n        Validators.required\r\n      ])),\r\n    });\r\n  }\r\n\r\n  // Função para quando a página for iniciada\r\n  ngOnInit() { }\r\n\r\n  async ionViewWillEnter() {\r\n    await this.verificaUser();\r\n    await this.authService.emailVerified();\r\n  }\r\n\r\n  // Função para verificar se já existe um usuário logado\r\n  private async verificaUser() {\r\n    // Atribui a variável user o resultado da seguinte consulta\r\n    // Acessa o local storage e pega o valor do item 'app.user' e o transforma de um JSON para uma string\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    // Se o usuário for diferente de nulo\r\n    if (user !== null && user.emailVerified === true) {\r\n      // Função para criar uma mensagem de carregando com a mensagem \"Autenticando...\"\r\n      const loading = await this.loadingCtrl.create({ message: 'Autenticando...' });\r\n      // Mostra a mensagem na tela\r\n      loading.present();\r\n      // Navega para a página 'home'\r\n      this.navCtrl.navigateRoot('menu/home');\r\n      // Função que retira a mensagem de \"Autenticando...\"\r\n      loading.dismiss();\r\n    }\r\n  }\r\n\r\n  async googleAuth() {\r\n    await this.authService.GoogleAuth();\r\n  }\r\n\r\n  // Função para ir a página de Singup\r\n  async goToSignup() {\r\n    // Navega para a página 'singup'\r\n    this.navCtrl.navigateForward('signup');\r\n  }\r\n\r\n  // Função para fazer o login do usuário\r\n  async logIn(value) {\r\n    await this.authService.emailVerified();\r\n    await this.authService.SignIn(value)\r\n      .then((res) => {\r\n        if (this.authService.isEmailVerified) {\r\n          this.router.navigate(['menu/home']);\r\n        } else {\r\n          this.showMessage('Email não verificado');\r\n          return false;\r\n        }\r\n      }).catch((error) => {\r\n        this.showMessage(error.message);\r\n      });\r\n  }\r\n\r\n  // Função para mostrar mensagem na tela que recebe o paramêtro message\r\n  async showMessage(message: string) {\r\n    // Aguarda a criação de um Toast Controller, com a mensagem passada no parâmetro, com duração de 3 segundos\r\n    await this.toastCtrl.create({ message: message, duration: 3000 })\r\n      // Quando o Toast Controller é terminado\r\n      .then((toastData) => {\r\n        // Escreve os dados no console\r\n        console.log(toastData);\r\n        // Mostra a mensagem na tela\r\n        toastData.present();\r\n      });\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}