{"version":3,"sources":["./src/app/pages/menu/menu.page.html","./src/app/models/user.model.ts","./src/app/pages/menu/menu-routing.module.ts","./src/app/pages/menu/menu.module.ts","./src/app/pages/menu/menu.page.scss","./src/app/pages/menu/menu.page.ts","./src/app/services/user.service.ts"],"names":[],"mappings":"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","file":"pages-menu-menu-module-es2015.js","sourcesContent":["export default \"<ion-menu contentId=\\\"content\\\">\\r\\n\\r\\n  <div class=\\\"user-menu\\\" (click)=\\\"showOptions()\\\">\\r\\n    <img src='{{ photo }}'>\\r\\n    <h4>{{ name }}</h4>\\r\\n  </div>\\r\\n\\r\\n  <ion-content mode=\\\"md\\\">\\r\\n\\r\\n    <div *ngFor=\\\"let p of pages\\\">\\r\\n\\r\\n      <ion-menu-toggle *ngIf=\\\"p.url\\\" mode=\\\"md\\\">\\r\\n        <ion-item [routerLink]=\\\"p.url\\\" routerDirection=\\\"root\\\" routerLinkActive=\\\"active\\\" lines=\\\"full\\\">\\r\\n          <ion-icon [name]=\\\"p.icon\\\" slot=\\\"start\\\"></ion-icon>\\r\\n          <ion-label>\\r\\n            {{ p.title }}\\r\\n          </ion-label>\\r\\n        </ion-item>\\r\\n      </ion-menu-toggle>\\r\\n\\r\\n      <ion-item button *ngIf=\\\"p.children?.length > 0\\\" (click)=\\\"p.open = !p.open\\\" [class.active-parent]=\\\"p.open\\\"\\r\\n        detail=false lines=\\\"full\\\" mode=\\\"md\\\">\\r\\n        <ion-icon slot=\\\"end\\\" name=\\\"chevron-forward-outline\\\" *ngIf=\\\"!p.open\\\"></ion-icon>\\r\\n        <ion-icon slot=\\\"end\\\" name=\\\"chevron-down-outline\\\" *ngIf=\\\"p.open\\\"></ion-icon>\\r\\n        <ion-icon [name]=\\\"p.icon\\\" slot=\\\"start\\\"></ion-icon>\\r\\n        <ion-label>{{ p.title }}</ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <ion-list *ngIf=\\\"p.open\\\" mode=\\\"md\\\">\\r\\n        <ion-menu-toggle mode=\\\"md\\\">\\r\\n          <ion-item class=\\\"sub-item\\\" *ngFor=\\\"let sub of p.children\\\" [routerLink]=\\\"sub.url\\\" routerDirection=\\\"root\\\"\\r\\n            routerLinkActive=\\\"active\\\">\\r\\n            <ion-icon [name]=\\\"sub.icon\\\" slot=\\\"start\\\"></ion-icon>\\r\\n            <ion-label>\\r\\n              {{ sub.title }}\\r\\n            </ion-label>\\r\\n          </ion-item>\\r\\n        </ion-menu-toggle>\\r\\n      </ion-list>\\r\\n    </div>\\r\\n\\r\\n  </ion-content>\\r\\n\\r\\n</ion-menu>\\r\\n\\r\\n<ion-router-outlet id=\\\"content\\\" main></ion-router-outlet>\"","// Model dos dados do usuário\r\n\r\nexport class User {\r\n    constructor(\r\n        public uid: string,\r\n        public email: string,\r\n        public displayName: string,\r\n        public emailVerified: boolean,\r\n        public photoURL: string\r\n    ) { }\r\n}\r\n\r\n// Models são os \"Modelos\" de dados de um objeto\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MenuPage } from './menu.page';\r\nimport { AuthGuard } from 'src/app/guards/auth.guard';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    redirectTo: 'menu/home',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: '',\r\n    component: MenuPage,\r\n    children: [\r\n      {\r\n        path: 'home',\r\n        loadChildren: () => import('../home/home.module').then(m => m.HomePageModule),\r\n        canActivate: [AuthGuard]\r\n      },\r\n      {\r\n        path: 'edit-room-list',\r\n        loadChildren: () => import('../edit/room/edit-room-list/edit-room-list.module').then(m => m.EditRoomListPageModule),\r\n        canActivate: [AuthGuard]\r\n      },\r\n      // Rota 'edit-device-list'\r\n      {\r\n        path: 'edit-device-list',\r\n        loadChildren: () => import('../edit/device/edit-device-list/edit-device-list.module').then(m => m.EditDeviceListPageModule),\r\n        canActivate: [AuthGuard]\r\n      },\r\n      {\r\n        path: 'device-list',\r\n        loadChildren: () => import('../functions/timer/device-list/device-list.module').then(m => m.DeviceListPageModule),\r\n        canActivate: [AuthGuard]\r\n      },\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MenuPageRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MenuPageRoutingModule } from './menu-routing.module';\r\n\r\nimport { MenuPage } from './menu.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MenuPageRoutingModule\r\n  ],\r\n  declarations: [MenuPage]\r\n})\r\nexport class MenuPageModule { }\r\n","export default \".active {\\n  --ion-text-color: var(--ion-color-primary);\\n}\\n.active ion-icon {\\n  --ion-text-color-rgb: var(--ion-color-primary);\\n}\\n.active-parent {\\n  font-weight: 500;\\n}\\n.sub-item {\\n  padding-left: 20px;\\n  font-size: small;\\n}\\nion-menu,\\nion-content {\\n  --background: #1e1e1e;\\n  font-family: \\\"Open Sans\\\", sans-serif;\\n}\\n.user-menu {\\n  text-align: center !important;\\n  color: white;\\n  background: #0353a4;\\n  background: radial-gradient(circle, #0353a4 0%, #023e7d 55%);\\n}\\n.user-menu img {\\n  border-radius: 100%;\\n  margin-top: 20px;\\n  margin-bottom: 0;\\n  width: 80px;\\n}\\n@media (min-width: 1100px) {\\n  ion-content ion-label {\\n    font-size: 20px;\\n  }\\n  ion-content ion-list ion-label {\\n    font-size: 16px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWVudS9DOlxcSW9uaWNcXEFwcFRDQy9zcmNcXGFwcFxccGFnZXNcXG1lbnVcXG1lbnUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9tZW51L21lbnUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMENBQUE7QUNDSjtBRENJO0VBQ0ksOENBQUE7QUNDUjtBREdBO0VBQ0ksZ0JBQUE7QUNBSjtBREdBO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtBQ0FKO0FER0E7O0VBRUkscUJBQUE7RUFDQSxvQ0FBQTtBQ0FKO0FER0E7RUFDSSw2QkFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLDREQUFBO0FDQUo7QURFSTtFQUNJLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUNBUjtBRElBO0VBR1E7SUFDSSxlQUFBO0VDSFY7RURNTTtJQUNJLGVBQUE7RUNKVjtBQUNGIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbWVudS9tZW51LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hY3RpdmUge1xyXG4gICAgLS1pb24tdGV4dC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG5cclxuICAgIGlvbi1pY29uIHtcclxuICAgICAgICAtLWlvbi10ZXh0LWNvbG9yLXJnYjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gICAgfVxyXG59XHJcblxyXG4uYWN0aXZlLXBhcmVudCB7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG59XHJcblxyXG4uc3ViLWl0ZW0ge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAyMHB4O1xyXG4gICAgZm9udC1zaXplOiBzbWFsbDtcclxufVxyXG5cclxuaW9uLW1lbnUsXHJcbmlvbi1jb250ZW50IHtcclxuICAgIC0tYmFja2dyb3VuZDogIzFlMWUxZTtcclxuICAgIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJywgc2Fucy1zZXJpZjtcclxufVxyXG5cclxuLnVzZXItbWVudSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXIgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGJhY2tncm91bmQ6IHJnYigzLCA4MywgMTY0KTtcclxuICAgIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUsIHJnYmEoMywgODMsIDE2NCwgMSkgMCUsIHJnYmEoMiwgNjIsIDEyNSwgMSkgNTUlKTtcclxuXHJcbiAgICBpbWcge1xyXG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwMCU7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgIHdpZHRoOiA4MHB4O1xyXG4gICAgfVxyXG59XHJcblxyXG5AbWVkaWEgKG1pbi13aWR0aDogMTEwMHB4KSB7XHJcbiAgICBpb24tY29udGVudCB7XHJcblxyXG4gICAgICAgIGlvbi1sYWJlbCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlvbi1saXN0IGlvbi1sYWJlbCB7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIuYWN0aXZlIHtcbiAgLS1pb24tdGV4dC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xufVxuLmFjdGl2ZSBpb24taWNvbiB7XG4gIC0taW9uLXRleHQtY29sb3ItcmdiOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi5hY3RpdmUtcGFyZW50IHtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLnN1Yi1pdGVtIHtcbiAgcGFkZGluZy1sZWZ0OiAyMHB4O1xuICBmb250LXNpemU6IHNtYWxsO1xufVxuXG5pb24tbWVudSxcbmlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiAjMWUxZTFlO1xuICBmb250LWZhbWlseTogXCJPcGVuIFNhbnNcIiwgc2Fucy1zZXJpZjtcbn1cblxuLnVzZXItbWVudSB7XG4gIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50O1xuICBjb2xvcjogd2hpdGU7XG4gIGJhY2tncm91bmQ6ICMwMzUzYTQ7XG4gIGJhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudChjaXJjbGUsICMwMzUzYTQgMCUsICMwMjNlN2QgNTUlKTtcbn1cbi51c2VyLW1lbnUgaW1nIHtcbiAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgbWFyZ2luLXRvcDogMjBweDtcbiAgbWFyZ2luLWJvdHRvbTogMDtcbiAgd2lkdGg6IDgwcHg7XG59XG5cbkBtZWRpYSAobWluLXdpZHRoOiAxMTAwcHgpIHtcbiAgaW9uLWNvbnRlbnQgaW9uLWxhYmVsIHtcbiAgICBmb250LXNpemU6IDIwcHg7XG4gIH1cbiAgaW9uLWNvbnRlbnQgaW9uLWxpc3QgaW9uLWxhYmVsIHtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gIH1cbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { User } from 'src/app/models/user.model';\r\nimport { ActionSheetController, AlertController, ToastController } from '@ionic/angular';\r\nimport { UserService } from 'src/app/services/user.service';\r\nimport { AuthenticationService } from '../../services/authentication.service';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.page.html',\r\n  styleUrls: ['./menu.page.scss'],\r\n})\r\nexport class MenuPage implements OnInit {\r\n\r\n  // Variável user\r\n  user: User;\r\n  novoNome: any;\r\n  name: any;\r\n  photo: any;\r\n\r\n  pages = [\r\n    {\r\n      title: 'Home',\r\n      url: '/menu/home',\r\n      icon: 'home'\r\n    },\r\n    {\r\n      title: 'Editar',\r\n      icon: 'create-outline',\r\n      open: false,\r\n      children: [\r\n        {\r\n          title: 'Dispositivo',\r\n          url: '/menu/edit-device-list',\r\n          icon: 'hardware-chip'\r\n        },\r\n        {\r\n          title: 'Cômodo',\r\n          url: '/menu/edit-room-list',\r\n          icon: 'home'\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      title: 'Funções',\r\n      icon: 'build',\r\n      open: false,\r\n      children: [\r\n        {\r\n          title: 'Timer',\r\n          url: '/menu/device-list',\r\n          icon: 'alarm-outline'\r\n        },\r\n      ]\r\n    },\r\n  ];\r\n\r\n  constructor(\r\n    private actionSheetCtrl: ActionSheetController,\r\n    private alertCtrl: AlertController,\r\n    private toastController: ToastController,\r\n    private userService: UserService,\r\n    private authService: AuthenticationService,\r\n  ) { }\r\n\r\n  ngOnInit() { }\r\n\r\n  async ionViewWillEnter() {\r\n    await this.userName();\r\n  }\r\n\r\n  userName() {\r\n    this.user = JSON.parse(localStorage.getItem('user'));\r\n\r\n    if (this.user.displayName === null && this.user.photoURL === null) {\r\n      // tslint:disable-next-line: max-line-length\r\n      localStorage.setItem('user', JSON.stringify(new User(this.user.uid, this.user.email, this.user.email, this.user.emailVerified, 'https://upload.wikimedia.org/wikipedia/commons/8/89/Portrait_Placeholder.png')));\r\n      this.user = JSON.parse(localStorage.getItem('user'));\r\n      this.userService.updateUserName(this.user.displayName, this.user.email);\r\n    } else {\r\n      this.userService.getUserName(this.user.email).valueChanges().subscribe(res => {\r\n        this.user.displayName = res;\r\n        // tslint:disable-next-line: max-line-length\r\n        localStorage.setItem('user', JSON.stringify(new User(this.user.uid, this.user.email, this.user.displayName, this.user.emailVerified, this.user.photoURL)));\r\n      });\r\n    }\r\n    this.user = JSON.parse(localStorage.getItem('user'));\r\n    this.name = this.user.displayName;\r\n    this.photo = this.user.photoURL;\r\n  }\r\n\r\n\r\n  // Função para aparecer opções ao clicar no usuário\r\n  async showOptions() {\r\n    // Cria um actionSheet\r\n    const actionSheet = await this.actionSheetCtrl.create({\r\n      // Header com nome 'Opções'\r\n      header: 'Opções',\r\n      cssClass: 'actionSheet',\r\n      // Gera botões\r\n      buttons: [\r\n        {\r\n          text: 'Alterar Nome',\r\n          icon: 'person',\r\n          handler: () => {\r\n            this.alterarNome();\r\n          }\r\n        },\r\n        {\r\n          text: 'Logout',\r\n          icon: 'power',\r\n          role: 'destructive',\r\n          // Quando o Logout é acionado ele remove o usuário do local storage e redireciona para a página de login\r\n          handler: () => {\r\n            this.presentAlertConfirm();\r\n          }\r\n        }, {\r\n          // Botão para cancelar\r\n          text: 'Cancelar',\r\n          icon: 'close',\r\n          role: 'cancel',\r\n        }]\r\n    });\r\n    // Aguarda o actionSheet carregar antes de mostrar\r\n    await actionSheet.present();\r\n  }\r\n\r\n  // Funcão para aparecer o alert com o input que irá receber o novo nome do usuário.\r\n  async alterarNome() {\r\n    // Cria um alert\r\n    const alert = await this.alertCtrl.create({\r\n      // Header com nome 'Novo Nome'.\r\n      header: 'Novo Nome',\r\n      // Gera inputs\r\n      inputs: [\r\n        {\r\n          name: 'new-name',\r\n          id: 'newname',\r\n          placeholder: 'Escreva um novo nome',\r\n          value: this.novoNome\r\n        },\r\n      ],\r\n      // Gera botões\r\n      buttons: [\r\n        {\r\n          // Botão para cancelar\r\n          text: 'Cancelar',\r\n          role: 'cancel',\r\n        },\r\n        {\r\n          text: 'Salvar',\r\n          handler: data => {\r\n            // if apenas para saber se o input não está vázio.\r\n            if ((document.getElementById('newname') as HTMLInputElement).value !== '') {\r\n              // this.nome será = ao que está valor do input com Id 'newname'.\r\n              this.novoNome = (document.getElementById('newname') as HTMLInputElement).value;\r\n              // Puxa a função do ion-toast.\r\n              this.newname();\r\n              // Função para mudar o nome do usuário.\r\n              this.userService.updateUserName(this.novoNome, this.user.email);\r\n              // tslint:disable-next-line: max-line-length\r\n              localStorage.setItem('user', JSON.stringify(new User(this.user.uid, this.user.email, this.novoNome, this.user.emailVerified, this.user.photoURL)));\r\n              this.user = JSON.parse(localStorage.getItem('user'));\r\n              this.name = this.user.displayName;\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  // Função para aparecer um ion-toast após salvar o novo nome (perfumaria).\r\n  async newname() {\r\n    const toast = await this.toastController.create({\r\n      header: 'Seu nome foi alterado.',\r\n      duration: 2000\r\n    });\r\n    await toast.present();\r\n  }\r\n\r\n  async presentAlertConfirm() {\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'SAIR!',\r\n      message: 'Deseja realmente sair?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancelar',\r\n          role: 'cancel'\r\n        }, {\r\n          text: 'Confirmar',\r\n          handler: () => {\r\n            this.authService.SignOut();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n}\r\n","// Services são os \"serviços\" que podem ser reutilizados por todo o app\r\n// Geralmente são funções\r\n// Service para funções relacionadas ao Dispositivo\r\n\r\nimport { Injectable } from '@angular/core';\r\n// Importação das bibliotecas do AngularFire\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\n\r\nexport class UserService {\r\n    // Declaração das variáveis\r\n    name: any;\r\n\r\n    constructor(\r\n        // AngularFireDatabase é uma classe para refernciar o banco\r\n        // Recebeu o apelido de db\r\n        private db: AngularFireDatabase\r\n    ) {\r\n\r\n    }\r\n\r\n    // Função que pega o nome do usuário\r\n    getUserName(email) {\r\n        email = email.replace(/[.#$@]+/g, '');\r\n        this.name = this.db.object(`/users/${email}/settings/displayName`);\r\n        return this.name;\r\n    }\r\n\r\n    // Função para mudar o nome do usuário, com a função é passado o parametro name, fornecido pela função\r\n    updateUserName(name, email) {\r\n        email = email.replace(/[.#$@]+/g, '');\r\n        this.db.database.ref(`/users/${email}/settings/displayName`).set(name);\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///"}